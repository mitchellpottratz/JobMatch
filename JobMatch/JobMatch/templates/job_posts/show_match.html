{% extends 'company_account_base.html' %}

{% block title %}<title>Show Match</title>{% endblock %}

{% block head %}

{% endblock %}

{% block body %}
<div class="card px-4">
	<div class="card-body">
		<div class="d-flex justify-content-center">
			<img src="/media/users/default_profile_picture.png/" width="35" height="35" class="rounded-circle mr-3" 
				 alt="user profile image">
			<h4 class="align-self-center">{{ match.get_candidate_full_name }}</h4>
		</div>
	</div>
</div>

<div class="row mt-4">

	<div class="col-4">
		<div class="card card-body">
			<h5>{{ candidate_info.headline }}</h5>
			<small class="text-muted">
				<i class="fas fa-map-marker-alt mr-1"></i>
				{{ candidate_info.location }}
			</small>
			<strong class="d-block mt-4">About</strong>
			<p>{{ candidate_info.bio }}</p>
		</div>

		<div class="card card-body mt-3">
			<h5 class="card-title">Skills</h5>
			<div class="d-flex flex-wrap">
				{% for skill in skills %}
				<span>
					<span class="badge badge-primary mr-1 mt-2 py-2 px-3 font-weight-normal">
						{{ skill.name }}
					</span>
				</span>
				{% endfor %}
			</div>
		</div>
	</div>	

	<div class="col-8">
		<div class="card card-body">
			<h5 class="card-title">Experience</h5>

			<!-- if the candidate has atleast one experience -->
			{% if experiences.count > 0 %}

			<!-- iterates through all of the candidates experiences -->
			{% for experience in experiences %}
			<div class="card mt-2">
				<div class="card-header">
					{{ experience.title }}
				</div>
				<div class="card-body">
					<div class="d-flex justify-content-between pb-1" id="experience-details-container">
						<small class="text-muted">
							<i class="fas fa-map-marker-alt mr-1"></i>
							{{ experience.company }} - {{ experience.location }}
						</small>
						<small class="text-muted">
							<i class="fas fa-briefcase mr-1"></i>
							{{ experience.employment_type }}
						</small>
					</div>
					<small class="text-muted pb-3">
						<i class="fas fa-business-time mr-1"></i>
						{{ experience.start_date }} - {{ experience.end_date }}
					</small>

					<div class="mt-2">
						<small>
							{{ experience.description | safe }}
						</small>
					</div>
				</div>
			</div>
			{% endfor %}

			<!-- if the candidate doesnt have any experiences -->
			{% else %}
			<p class="text-center text-muted">
				This candidate has not added any experiences yet
			</p>
			{% endif %}

		</div>

		<div class="card card-body mt-3">
			<h5 class="card-title">Projects</h5>

			<!-- if the candidate has atleast one project -->
			{% if projects.count > 0 %}

			<!-- iterates through all of the candidates projects -->
			{% for project in projects %}
			<div class="card mt-3">
				<div class="card-header text-center">
					<img src="{{ project.image.url }}" width="30" height="30" class="rounded-circle mr-2" alt="project image"/>
					{{ project.title }}
				</div>
				<div class="card-body">
					<small class="text-muted">
						<i class="fas fa-map-marker-alt mr-1"></i>
						{{ project.associated_with }}
					</small>
					<small class="d-block text-muted pb-3">
						<i class="fas fa-business-time mr-1"></i>
						{{ project.start_date }} - {{ project.end_date }}
					</small>
					<div class="mt-2">
						<small>
							{{ project.description | safe }}
						</small>
					</div>
				</div>
				<div class="card-footer text-center">
					<small>
						<a href="{{ project.url }}" target="_blank">
							<i class="fas fa-link mr-1"></i>
							Link To Project
						</a>
					</small>
				</div>
			</div>
			{% endfor %}

			<!-- if the candidate doesnt have any projects -->
			{% else %}
			<p class="text-center text-muted">
				This candidate has not added any projects yet
			</p>
			{% endif %}

		</div>
	</div>	

</div>

{% endblock %}
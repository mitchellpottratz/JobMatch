{% extends 'candidate_account_base.html' %}

{% block title %}<title>Add Skills</title>{% endblock %}

{% block head %}

{% load static %}

<!-- this links the tinymce javascript for the tinymce text editor -->
{{ form.media }}

<!-- Moment.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.23.0/moment.min.js" integrity="sha256-VBLiveTKyUZMEzJd6z2mhfxIqz3ZATCuVMawPZGzIfA=" crossorigin="anonymous"></script>

<!-- Tempus Dominus Bootstrap 4 -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/css/tempusdominus-bootstrap-4.min.css" integrity="sha256-XPTBwC3SBoWHSmKasAk01c08M6sIA5gF5+sRxqak2Qs=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/js/tempusdominus-bootstrap-4.min.js" integrity="sha256-z0oKYg6xiLq3yJGsp/LsY9XykbweQlHl42jHv2XTBz4=" crossorigin="anonymous"></script>

<style type="text/css">
    #skills-results-container {
        display: none;
        z-index: 2;
        width: 100%;
        max-height: 150px;
        overflow-y: scroll;
        position: absolute;
    }

    .skill-result {
        border-top: 1px solid lightgrey;
        padding-top: 10px;
    }

    .skill-result:hover {
        cursor: pointer;
        opacity: 0.7;
    }
</style>

{% endblock %}

{% block body %}

<div class="row py-4">
    <div class="col-2"></div>  
    <div class="col-8">
        <div class="card card-body">
            <form method="POST">
                {% csrf_token %}
                <h5>Add A Skill</h5>
                <form method="POST">
                    <div class="form-group">
                        <small class="mb-4">
                            Begin by searching for a skill you would like to add and results will begin to pop up. If you see 
                            the skill you want to add, click it, then press the "Add Skill" button. If it does not pop up, type 
                            out the whole skill and press the "Add Skill" button.
                        </small>
                        <input type="text" class="form-control mt-3 mr-1" id='skill-search' name="skill-name" autocomplete="off"
                               placeholder="Start by searching for a skill...">
                        <div class="card" id="skills-results-container">
                            <p class="text-muted text-center">Results</p>
                            <div id="skill-search-results">
                            </div>
                        </div>
                    </div>
                    <input type="submit" class="btn btn-primary" value="Add Skill">
                </form>
            </form>
        </div>
        <div class="card card-body mt-4">
            <h5 class="card-title">Your Skills</h5>
            <div class="row">
                {% for skill in users_skills %}
                <div class="col-3 mt-2">
                    <span class="badge badge-primary py-2 w-100 skill-badge">
                        {{ skill.name }}
                    </span>
                </div>
                {% endfor %} 
            </div>
        </div>
    </div> 
    <div class="col-2"></div>      
</div>

<!-- script for adding skills to the job post -->
<script type="text/javascript" src="{% static 'js/skills.js' %}"></script>

<script type="text/javascript">

    
</script> 
{% endblock %}





